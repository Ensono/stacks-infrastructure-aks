variables:
  # ------- General Agent Setup
  # set the location that the resources should be deployed to
  - name: region
    value: uksouth

  # ------- Stacks configuration
  # name of the company that owns the project
  - name: company
    value: ensono

  # name of the project
  - name: project
    value: stacks

  # which domain of the company is this. e.g. core resources, or front end
  # This is not a network domain
  - name: domain
    value: infra

  # the email address to use when creating the SSL certificate
  - name: acme_email
    value: stacks@ensono.com

  # ------- Cluster information
  # version of AKS to deploy
  - name: aks_cluster_version
    value: 1.34.1

  ## The Cluster Control Plane SKU Tier. One of: Free, Standard, or Premium
  - name: aks_cluster_sku_tier
    value: Standard

  # Should a valid certificate be obtained, or use a self signed one
  - name: create_valid_cert
    value: false

  # Additional node pools for kubernetes
  - name: aks_node_pools
    value: "{}"

  - name: private_cluster
    value: false

  - name: create_aksvnet
    value: true

  - name: create_user_identity
    value: true

  # ------- Terraform remote state
  # Stacks operates Terraform states based on workspaces **IT IS VERY IMPORTANT** that you ensure a unique name for each application definition
  # Furthermore **IT IS VERY IMPORTANT** that you change the name of a workspace for each deployment stage
  # there are some best practices around this if you are going for feature based environments
  # avoid running anything past dev that is not on master
  - name: tf_state_rg
    value: stacks-terraform-state
  - name: tf_state_storage
    value: stacksstatehjfis
  - name: tf_state_container
    value: tfstate
  - name: tf_state_key
    value: "core:infrastructure:aks"

  # -------- Network Domain names
  - name: base_domain_nonprod
    value: dev.stacks.ensono.com
  - name: base_domain_internal_nonprod
    value: dev.stacks.ensono.internal
  - name: base_domain_prod
    value: dev.stacks.ensono.com
  - name: base_domain_internal_prod
    value: dev.stacks.ensono.internal

  # ------- DNS configuration
  - name: create_dns_zone
    value: true
  - name: dns_resource_group
    value: stacks-dns-zones
  ## dns_zone is in the stages variable in the pipeline
  - name: dns_create_parent_zone_ns_records
    value: true
  - name: dns_parent_resource_group
    value: stacks-dns-zones
  - name: dns_parent_zone
    value: stacks.ensono.com

  # ------- Container registry
  - name: create_acr
    value: false
  # Only required when create_acr is false (using existing ACR)
  - name: acr_resource_group
    value: stacks-ancillary-resources
  - name: acr_name
    value: ensonoeuw

  # ------- Key Vault
  - name: create_key_vault
    value: true

  # ------- Kured
  - name: kured_end_time
    value: 04:00
  - name: kured_start_time
    value: 00:00
  - name: kured_timezone
    value: Europe/London

  # ------- GitHub
  - name: VERSION_NUMBER
    value: $(Build.BuildNumber)
  - name: COMMIT_ID
    value: $(Build.SourceVersion)
  - name: OWNER
    value: ensono
  - name: REPOSITORY
    value: stacks-infrastructure-aks
  - name: ARTIFACTS_DIR
    value: artifacts/

  # ------- Resource Tags
  - name: team_owner
    value: plateng

  # ------- Azure DevOps Settings
  - name: ado_org_service_url
    value: https://dev.azure.com/ensonodigitaluk
  - name: ado_project_name
    value: "Ensono Stacks"
